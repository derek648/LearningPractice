<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
			integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"
			defer>
		</script>
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

		<style>
			.bi {
				margin-right: 10px;
				/* 图标和textarea之间的间距 */
			}

			.answerAndEnquiry {
				resize: none;
				/* 禁止用户调整textarea大小 */
				overflow-y: hidden;
				/* 隐藏超出部分 */
				padding: 5px;
				/* 文本内边距 */
				width: calc(100% - 30px); /* 减去一些空间以容纳图标和边距 */  
				    flex-shrink: 0; /* 防止flex容器缩小textarea */  
			}
			
			
			.chatContainer{
				border: 1px solid red;
				width: 60%;
			}
			
			.d-flex{
				border: 1px solid blue;
			}
			/* .position-relative{
				scroll-behavior: auto;
			} */
		</style>


	</head>
	<body class="chat">
		<div class="position-relative">
			<div class="position-absolute top-50 start-50 translate-middle chatContainer" style="padding-top: 200px; display: block;">
				<div class="d-flex align-items-top">
					<i class="bi bi-person-square"></i>
					<textarea class="ms-2 answerAndEnquiry" rows="1" id="answerAndEnquiry"></textarea>
				</div>
				<div class="d-flex align-items-top">
					<i class="bi bi-person-square"></i>
					<textarea class="ms-2 answerAndEnquiry" rows="1" id="answerAndEnquiry" placeholder="" readonly></textarea>
				</div>
			</div>
		</div>
	</body>
	<script>
		// 根據文本内容自適應高度
		function autoResize() {
			let textarea = document.getElementById("answerAndEnquiry");
			textarea.addEventListener('input', function() {
				// 監聽文本框内容是否超出文本框的高度
				let scrollHeight = textarea.scrollHeight; // 获取scrollHeight属性  
				let clientHeight = textarea.clientHeight // 获取clientHeight属性
				let row = textarea.getAttribute('rows')
				console.log(row)

				if (scrollHeight > clientHeight) {
					//如果超過了文本框高度就讓row+1
					row++;
					textarea.setAttribute('rows',row)

				} else {
					console.log('文本没有超过textarea的高度。');
				}
			})
		}
		autoResize()
	</script>
</html>